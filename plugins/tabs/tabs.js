/* Vizoo - v0.1 - http://vizoo.online - Wallace Rio <wallrio@gmail.com> */
!function(t){var e=function(){};e.menu={status:null},e.animateScroll=function(t,e,a,i){Math.easeInOutQuad=function(t,e,a,i){return(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var o=function(t,e,a,i,n){if("BODY"==t.tagName||t==document)var d=window.scrollX;else d=t.scrollLeft;var s=e-d;i+=20;var r=Math.easeInOutQuad(i,d,s,a);return"BODY"==t.tagName||t==document?window.scrollTo(r,0):t.scrollLeft=r,i<a?setTimeout(function(){o(t,e,a,i,n)},20):n&&n(),!1};o(t,e,a,0,i)},e.setMenu=function(a,i){var o=document.querySelector('[data-vizoo-tabs-menu][data-for="'+a+'"]'),n=document.querySelector('[data-vizoo-tabs-menu][data-for="'+a+'"] > ul'),d=document.querySelector('[data-vizoo-tabs-menu][data-for="'+a+'"] > ul > [data-vizoo-tabs-menu-item][data-for="'+i+'"]'),s=document.querySelectorAll('[data-vizoo-tabs-menu][data-for="'+a+'"] > ul > [data-vizoo-tabs-menu-item]'),r=o.offsetWidth,u=d.offsetLeft,c=d.offsetWidth,l=(t.plugins.essentials.getTranslate(n),r/2-(u+c/2)),v=l-l-l;s[s.length-1].offsetLeft,s[s.length-1].offsetWidth;l>0&&(l=0),s.map(function(){this.removeAttribute("data-status")}),d.setAttribute("data-status","active"),e.animateScroll(n,v,200)},e.getTabByIndex=function(t,e){"object"==typeof t&&(t=t.getAttribute("data-tab-id"));document.querySelector('[data-vizoo-tabs][data-index="'+t+'"]'),document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container]');var a=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide][data-index="'+e+'"]');return void 0!=a&&a},e.tabActiveByIndex=function(t,a){if("object"==typeof t&&(t=t.getAttribute("data-tab-id")),null===t)return!1;var i=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"]'),o=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container]'),n=document.querySelectorAll('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide]'),d=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide][data-index="'+a+'"]');void 0==d&&(a<0&&(a=0,d=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide][data-index="'+a+'"]')),void 0==d&&a>n.length-1&&(a=n.length-1,d=document.querySelector('[data-vizoo-tabs][data-index="'+t+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide][data-index="'+a+'"]'))),o.setAttribute("data-tab-active",a);var s=d.offsetLeft;o.css({transition:"all 0.3s cubic-bezier(0.000, 1.025, 0.295, 0.960)",transform:"translateX("+(-s-1)+"px)"});var r=i.getAttribute("data-id"),u=d.getAttribute("data-id");e.setMenu(r,u)},e.touchMenuEffect=function(t){return!1},e.touchEffect=function(t,a){if(null===navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i))return!1;e.touch(t,{movey:!1,movex:!0,useCapture:!1,start:function(t,a,i,o,n,d,s){var r=Number(this.getAttribute("data-tab-active")),u=e.getTabByIndex(this,r),c=d+u.offsetLeft+o,l=d+u.offsetLeft+u.offsetWidth;this.css({transition:"0ms"}),c>50&&c<l-50&&(this.movex=!1)},move:function(t,a,i,o,n,d,s,r,u,c){var l=Number(this.getAttribute("data-tab-active")),v=e.getTabByIndex(this,l),b=(v.offsetLeft,v.offsetLeft,v.offsetWidth,Number(String(u).replace("-","")));if(this.css({transition:"0ms"}),void 0!=this.attr.sensibility)var f=this.attr.sensibility;else f=30;if(b>f)this.movex=!0,t.preventDefault(),t.stopPropagation();else{l=Number(this.getAttribute("data-tab-active"));e.tabActiveByIndex(this,l),this.movex=!1}},end:function(t,a,i,o,n,d,s,r,u,c){var l=Number(String(u).replace("-","")),v=Number(this.getAttribute("data-tab-active")),b=e.getTabByIndex(this,v),f=d+b.offsetLeft;b.offsetLeft;if(void 0!=this.attr.sensibility)var m=this.attr.sensibility;else m=30;if(l<m)return this.movex=!1,e.tabActiveByIndex(this,v),!1;f<0?e.tabActiveByIndex(this,v+1):f>0&&e.tabActiveByIndex(this,v-1)}})},e.monitor=function(){document.querySelectorAll("[data-vizoo-tabs-menu]").map(function(a,i){if(1==this.tabsInit)return!1;this.tabsInit=!0,this.setAttribute("data-index",i);var o=this.getAttribute("data-for"),n=document.querySelector('[data-vizoo-tabs][data-id="'+o+'"] > [data-vizoo-tabs-container]'),d=this.querySelectorAll("ul > [data-vizoo-tabs-menu-item]");for(key in d)void 0!=d[key].tagName&&d[key].setAttribute("data-index",key),void 0!=d[key].tagName&&t.addEvent(d[key],"touchend click",function(t){if("moving"==e.menu.status)return!1;var a=this.getAttribute("data-index");e.tabActiveByIndex(n,a),t.preventDefault(),t.stopPropagation()},!0)}),t.addEvent(window,"resize",function(t,e){document.querySelectorAll("[data-vizoo-tabs]").map(function(t,e){this.tabsInit=!1})},null,e),document.querySelectorAll("[data-vizoo-tabs]").map(function(a,i){if(1==this.tabsInit)return!1;this.tabsInit=!0,this.setAttribute("data-index",i);var o=this.querySelectorAll("[data-vizoo-tabs-container] > [data-vizoo-tabs-slide]");for(key in o)void 0!=o[key].tagName&&o[key].setAttribute("data-index",key);var n=document.querySelector('[data-vizoo-tabs][data-index="'+i+'"]'),d=document.querySelector('[data-vizoo-tabs][data-index="'+i+'"] > [data-vizoo-tabs-container]'),s=document.querySelector('[data-vizoo-tabs-menu][data-index="'+i+'"] > ul'),r=document.querySelectorAll('[data-vizoo-tabs][data-index="'+i+'"] > [data-vizoo-tabs-container] > [data-vizoo-tabs-slide]');d.setAttribute("data-tab-id",i);var u=n.getAttribute("data-attr");u=t.string.stringToObject(u),null===navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)&&(s.style["overflow-x"]="hidden"),s.onscroll=function(){e.menu.status="moving",setTimeout(function(){e.menu.status="stoped"},500)},d.attr=u,s.attr=u,setTimeout(function(t,a,i){e.tabActiveByIndex(i,0);for(var o=0;o<a.length;o++){var n=a[o];n.css({width:"0px"});var d=0;null!==navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)&&(d=0),n.css({width:t.offsetWidth+d+1+"px"})}},100,this,r,d),e.touchEffect(d),e.touchMenuEffect(s)}),setTimeout(function(){e.monitor()},300)},e._construct=function(){e.monitor()},t.plugin.require(["essentials"],function(){e.touch=t.plugins.essentials.touch,e._construct()})}(vizoo);