/* Vizoo - v1.0.0 - http://vizoo.online - Wallace Rio <wallrio@gmail.com> */
!function(t){var e=function(){};e.test=function(){alert("essentials...teste...ok")},e.getTranslate=function(t){var e=window.getComputedStyle(t),i=new WebKitCSSMatrix(e.webkitTransform);return{x:i.m41,y:i.m42,z:i.m43}},e.touch=function(i,n){var o=n.over||function(){},s=n.leave||function(){},a=n.start||function(){},r=n.move||function(){},c=n.end||function(){};if(0==n.useCapture)var l=!1;else l=!0;if(0==n.movex)var v=!1;else v=!0;if(0==n.movey)var u=!1;else u=!0;var h=e.touch;h.findPos=function(t){var e=curtop=0;if(t.offsetParent){do{e+=t.offsetLeft,curtop+=t.offsetTop}while(t=t.offsetParent);return{left:e,top:curtop}}},h.active={element:null,status:"out",direction:{horizontal:null,vertical:null}},i.movex=v,i.movey=u,i.touch={status:"out"},t.addEvent(window,"mouseup",function(t,i){if("start"!=h.active.status&&"moving"!=h.active.status||h.active.element,h.active.status="end",!1===h.active.endEvent)return!1;if(null==h.active.element)return!1;h.active.element.position.left=e.getTranslate(h.active.element).x,h.active.element.position.top=e.getTranslate(h.active.element).y;var n=h.findPos(h.active.element).left,o=h.findPos(h.active.element).top,s=h.active.element.movex,a=h.active.element.movey,r=t.clientY,c=t.clientX;if(1==s)var l=c-h.active.element.position.start.x+h.active.element.position.x;else l=e.getTranslate(h.active.element).x;if(1==a)var v=r-h.active.element.position.start.y+h.active.element.position.y;else v=e.getTranslate(h.active.element).y;h.active.element.css({transform:" translateX("+l+"px) translateY("+v+"px)","-webkit-transform":" translateX("+l+"px) translateY("+v+"px)"});var u=c-n,p=r-o,m={horizontal:h.active.direction.horizontal,vertical:h.active.direction.vertical},f=c-h.active.element.position.start.x,d=r-h.active.element.position.start.y;i.call(h.active.element,t,c,r,u,p,l,v,m,f,d),setTimeout(function(){h.active.element=null},300)},l,c),t.addEvent(window,"mousemove",function(t,i){if(!1===h.active.moveEvent)return!1;if("start"==h.active.status&&null!=h.active.element){h.active.element.position.left=e.getTranslate(h.active.element).x,h.active.element.position.top=e.getTranslate(h.active.element).y;var n=h.active.element.movex,o=h.active.element.movey,s=t.clientY,a=t.clientX,c=h.findPos(h.active.element).left,l=h.findPos(h.active.element).top;if(1==n)var v=a-h.active.element.position.start.x+h.active.element.position.x;else v=e.getTranslate(h.active.element).x;if(1==o)var u=s-h.active.element.position.start.y+h.active.element.position.y;else u=e.getTranslate(h.active.element).y;h.active.element.css({transform:" translateX("+v+"px) translateY("+u+"px)","-webkit-transform":" translateX("+v+"px) translateY("+u+"px)"}),setTimeout(function(t,e){t>e.position.startDir.x?h.active.direction.horizontal="right":h.active.direction.horizontal="left",s>e.position.startDir.y?h.active.direction.vertical="bottom":h.active.direction.vertical="top",setTimeout(function(){e.position.startDir.y=s,e.position.startDir.x=t},100)},100,a,h.active.element);var p=a-c,m=s-l,f={horizontal:h.active.direction.horizontal,vertical:h.active.direction.vertical},d=a-h.active.element.position.start.x,x=s-h.active.element.position.start.y;h.active.endEvent=r.call(h.active.element,t,a,s,p,m,v,u,f,d,x)}},l),t.addEvent(i,"mouseover",function(t,e){this.touch.status="over",e.call(this)},l,o),t.addEvent(i,"mouseleave",function(t,e){this.touch.status="leave",e.call(this)},l,s),t.addEvent(i,"touchstart mousedown",function(t,i){if(h.active.element=this,h.active.status="start",this.touch.status="start",t.targetTouches&&1==t.targetTouches.length)var n=t.targetTouches[0];else n=t;var o=h.findPos(this).left,s=h.findPos(this).top,a=n.clientX,r=n.clientY;void 0==this.position&&(this.position={current:{},start:{},end:{},startDir:{}}),this.position.x=e.getTranslate(this).x,this.position.y=e.getTranslate(this).y,this.position.start.x=a,this.position.start.y=r,this.position.startDir.x=a,this.position.startDir.y=r,this.position.current.x=a,this.position.current.y=r;var c=a-o,l=r-s,v=this.movex,u=this.movey;if(1==v)var p=a-this.position.start.x+this.position.x;else p=e.getTranslate(this).x;if(1==u)var m=r-this.position.start.y+this.position.y;else m=e.getTranslate(this).y;h.active.moveEvent=i.call(this,t,a,r,c,l,p,m)},l,a),t.addEvent(i,"touchmove",function(t,i){if(!1===h.active.moveEvent)return!1;if(t.targetTouches&&1==t.targetTouches.length)var n=t.targetTouches[0];else n=t;var o=n.clientX,s=n.clientY;this.position.current.x=o,this.position.current.y=s;this.position.x,this.position.y;if("start"==this.touch.status||"moving"==this.touch.status){this.touch.status="moving";var a=this.movex,r=this.movey,c=h.findPos(this).left,l=h.findPos(this).top;if(1==a)var v=o-this.position.start.x+this.position.x;else v=e.getTranslate(this).x;if(1==r)var u=s-this.position.start.y+this.position.y;else u=e.getTranslate(this).y;this.css({transform:" translateX("+v+"px) translateY("+u+"px)","-webkit-transform":" translateX("+v+"px) translateY("+u+"px)"});var p=o-c,m=s-l;setTimeout(function(t,e){t>e.position.startDir.x?h.active.direction.horizontal="right":h.active.direction.horizontal="left",s>e.position.startDir.y?h.active.direction.vertical="bottom":h.active.direction.vertical="top",setTimeout(function(){e.position.startDir.y=s,e.position.startDir.x=t},100)},100,o,h.active.element);var f={horizontal:h.active.direction.horizontal,vertical:h.active.direction.vertical},d=o-h.active.element.position.start.x,x=s-h.active.element.position.start.y;h.active.endEvent=i.call(this,t,o,s,p,m,v,u,f,d,x)}},l,r),t.addEvent(i,"touchend ",function(t,i){if(this.touch.status="end",!1===h.active.endEvent)return!1;if(t.targetTouches&&1==t.targetTouches.length)t.targetTouches[0];else;var n=this.position.current.x,o=this.position.current.y,s=h.findPos(this).left,a=h.findPos(this).top;this.position.x=e.getTranslate(this).x,this.position.y=e.getTranslate(this).y,this.position.end.x=n,this.position.end.y=o;var r=e.getTranslate(this).x,c=e.getTranslate(this).y;this.position.current.x=e.getTranslate(this).x,this.position.current.y=e.getTranslate(this).y;var l=n-s,v=o-a,u={horizontal:h.active.direction.horizontal,vertical:h.active.direction.vertical},p=n-h.active.element.position.start.x,m=o-h.active.element.position.start.y;i.call(this,t,n,o,l,v,r,c,u,p,m)},l,c)},e.cookie=function(t,e,i){void 0==i&&(i="");return void 0==e?function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie).split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}(t):function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"}(t,e,i)},e.loadScript=function(t,e){"string"==typeof t&&(t=[t]);var i=function(t,e,i,n){if(void 0==e[i])return n&&n(),!1;var o=document.createElement("script");o.src=e[i],o.onload=function(){t(t,e,i+1,n)},document.querySelector("head").appendChild(o)};i(i,t,0,e)},e.move=function(i,n){var o={position:{status:null,start:{},move:{},end:{}},getTranslate:function(t){var e=window.getComputedStyle(t),i=new WebKitCSSMatrix(e.webkitTransform);return{x:i.m41,y:i.m42,z:i.m43}}},s=t.string.generator;e.touch(s,i,{inTouch:function(t,e,o,s,a){n.inTouch&&n.inTouch(i,t,e,o,s,a)},outTouch:function(t,e,o,s,a){n.outTouch&&n.outTouch(i,t,e,o,s,a)},callback:function(){},start:function(t,e,s,a,r){n.start&&n.start(i,t,e,s,a,r),o.position.status="start",o.position.start={x:e,y:s},o.position.current={x:o.getTranslate(i).x,y:o.getTranslate(i).y}},move:function(t,e,s,a,r){n.move&&n.move(i,t,e,s,a,r);a.startDirection,o.position.start.x,o.position.start.y;o.position.status="moving";var c=e-o.position.start.x+o.position.current.x,l=s-o.position.start.y+o.position.current.y;"moving"==o.position.status&&(i.style.transform="translateY("+l+"px) translateX("+c+"px)")},end:function(t,e,s,a,r){o.position.status="end";var c=o.getTranslate(i).x,l=o.getTranslate(i).y;o.position.current={x:c,y:l},n.end&&n.end(i,t,e,s,status,r)}})},t.plugins.essentials=e}(vizoo);